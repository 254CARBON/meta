# 🔍 Drift Detection Report

**Generated:** {{ generated_at | format_date }}
**Report Period:** {{ report.metadata.catalog_timestamp | format_date }}
**Total Services:** {{ report.metadata.total_services }}

## 📊 Executive Summary

| Metric | Value | Status |
|--------|-------|--------|
| **Overall Health** | {% if report.metadata.overall_healthy %}✅ Healthy{% else %}⚠️ Needs Attention{% endif %} | {% if report.metadata.overall_healthy %}🟢{% else %}🟡{% endif %} |
| **Total Issues** | {{ report.metadata.total_issues }} | {% if report.metadata.total_issues == 0 %}🟢{% elif report.metadata.total_issues <= 5 %}🟡{% else %}🔴{% endif %} |
| **High Priority** | {{ report.summary.issues_by_severity.high + report.summary.issues_by_severity.error }} | {% if report.summary.issues_by_severity.high + report.summary.issues_by_severity.error == 0 %}🟢{% else %}🔴{% endif %} |

## 🚨 Issues by Severity

| Severity | Count | Trend |
|----------|-------|-------|
| 🔴 **High** | {{ report.summary.issues_by_severity.high | default(0) }} | {% if report.summary.issues_by_severity.high > 0 %}📈 Critical{% else %}✅ None{% endif %} |
| 🟡 **Moderate** | {{ report.summary.issues_by_severity.moderate | default(0) }} | {% if report.summary.issues_by_severity.moderate > 0 %}📊 Monitor{% else %}✅ None{% endif %} |
| 🟢 **Low** | {{ report.summary.issues_by_severity.low | default(0) }} | {% if report.summary.issues_by_severity.low > 0 %}📋 Review{% else %}✅ None{% endif %} |
| ❌ **Error** | {{ report.summary.issues_by_severity.error | default(0) }} | {% if report.summary.issues_by_severity.error > 0 %}🚨 Action Required{% else %}✅ None{% endif %} |

## 📋 Issues by Type

| Issue Type | Count | Priority |
|------------|-------|----------|
{% for type, count in report.summary.issues_by_type.items() %}
| **{{ type | replace('_', ' ') | title }}** | {{ count }} | {% if type in ['missing_lock', 'version_staleness'] %}🔴 High{% elif type in ['spec_lag'] %}🟡 Medium{% else %}🟢 Low{% endif %} |
{% endfor %}

## 🎯 Key Recommendations

{% for recommendation in report.recommendations %}
{{ recommendation }}
{% endfor %}

{% if report.issues %}
## 📋 Detailed Issue Analysis

{% for issue in report.issues[:50] %}
### {{ issue.service }} - {{ issue.type | replace('_', ' ') | title }}

{{ issue.severity | severity_icon }} **{{ issue.severity | title }} Priority**

**Description:** {{ issue.description }}

**Current State:** `{{ issue.current_value }}`  
**Expected State:** `{{ issue.expected_value }}`

**Recommended Action:** {{ issue.remediation }}

---

{% endfor %}

{% if report.issues | length > 50 %}
*⚠️ Showing first 50 issues. Total: {{ report.issues | length }} issues.*
{% endif %}
{% endif %}

## 📈 Trend Analysis

*This section would contain trend analysis comparing current drift state with historical data.*

## 🔧 Automated Actions

{% if report.summary.issues_by_severity.high == 0 and report.summary.issues_by_severity.error == 0 %}
✅ **No critical issues detected.** Automated maintenance can proceed normally.
{% else %}
🚨 **Critical issues present.** Please review and resolve high-priority issues before proceeding with automated operations.
{% endif %}

---

*🤖 Generated by 254Carbon Meta Repository*
*Report ID: {{ generated_at[:19] }}*
